import{_ as g,c as r,a as t,F as u,r as h,w as n,v as p,b as c,o,d as k,t as m,e as w}from"./_plugin-vue_export-helper-22fdd37f.js";const y={props:["form_id"],data(){return{transports:["Для легкового авто","Для кроссовера","Для внедорожника","Для спецтехники","Для другого транспорта"],name:"",tel:"",selected:{transport:""},errors:[],views:{success:!1}}},created(){this.selected.transport=this.transports[0]},methods:{save(){if(this.errors=[],!this.name.length)return this.errors.push("Укажите имя");if(!this.tel.length)return this.errors.push("Укажите телефон");if(!this.selected.transport.length)return this.errors.push("Укажите транспорт");axios.post("/_leads",{name:this.name,tel:this.tel,text:this.selected.transport}).then(i=>{this.name="",this.tel="",this.selected.transport=this.transports[0],this.views.success=!0,setTimeout(()=>{this.views.success=!1},3e3)}).catch(i=>{this.errors.push("Ошибка на сервере")})}}},b={class:"row align-items-center"},x=t("div",{class:"col-12 col-lg-4"},[t("img",{src:"/img/contact-circle.png",alt:""})],-1),V={class:"col-12 col-lg-4 formchecks"},U={class:"form-check"},B=["onUpdate:modelValue","id","value"],C=["for"],D={class:"col-12 col-lg-4"},F={key:1,class:"alert alert-success mt-3"},L={key:2,class:"alert alert-danger mt-3"},M={class:"d-block"};function N(i,l,a,A,e,f){return o(),r("div",b,[x,t("div",V,[(o(!0),r(u,null,h(e.transports,(s,d)=>(o(),r("div",U,[n(t("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":v=>e.selected.transport=v,id:a.form_id+"_"+d,value:s},null,8,B),[[k,e.selected.transport]]),t("label",{class:"form-check-label",for:a.form_id+"_"+d},m(s),9,C)]))),256))]),t("div",D,[n(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=s=>e.name=s),class:"form-control",placeholder:"Имя"},null,512),[[p,e.name]]),n(t("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=s=>e.tel=s),class:"form-control",placeholder:"Телефон"},null,512),[[p,e.tel]]),e.views.success?c("",!0):(o(),r("button",{key:0,onClick:l[2]||(l[2]=s=>f.save()),class:"btn btn-primary"},"Заказать со скидкой")),e.views.success?(o(),r("div",F," Заявка успешно отправлена! ")):c("",!0),e.errors.length?(o(),r("div",L,[(o(!0),r(u,null,h(e.errors,s=>(o(),r("span",M,[t("small",null,m(s),1)]))),256))])):c("",!0)])])}const T=g(y,[["render",N]]),_=w({});_.component("create-lead",T);_.mount("#front");
