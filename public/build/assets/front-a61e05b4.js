import{_ as v,c as t,a as l,F as d,r as h,w as i,v as p,b as n,o as r,d as w,t as m,e as y}from"./_plugin-vue_export-helper-22fdd37f.js";const b={props:["form_id"],data(){return{transports:["Для легкового авто","Для кроссовера","Для внедорожника","Для спецтехники","Для другого транспорта"],name:"",tel:"",selected:{transport:""},errors:[],views:{success:!1}}},created(){this.selected.transport=this.transports[0]},methods:{save(){if(this.errors=[],!this.name.length)return this.errors.push("Укажите имя");if(!this.tel.length)return this.errors.push("Укажите телефон");if(!this.selected.transport.length)return this.errors.push("Укажите транспорт");axios.post("/_leads",{name:this.name,tel:this.tel,text:this.selected.transport}).then(c=>{this.name="",this.tel="",this.selected.transport=this.transports[0],this.views.success=!0,setTimeout(()=>{this.views.success=!1},3e3)}).catch(c=>{this.errors.push("Ошибка на сервере")})}}},x={class:"row align-items-center"},V=l("div",{class:"col-12 col-lg-4"},[l("img",{src:"/img/contact-circle.png",alt:""})],-1),C={class:"col-12 col-lg-4 formchecks"},U={class:"form-check"},B=["onUpdate:modelValue","id","value"],L=["for"],M={class:"col-12 col-lg-4"},T={key:1,class:"alert alert-success mt-3"},D={key:2,class:"alert alert-danger mt-3"},F={class:"d-block"};function N(c,o,a,g,e,u){return r(),t("div",x,[V,l("div",C,[(r(!0),t(d,null,h(e.transports,(s,f)=>(r(),t("div",U,[i(l("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":k=>e.selected.transport=k,id:a.form_id+"_"+f,value:s},null,8,B),[[w,e.selected.transport]]),l("label",{class:"form-check-label",for:a.form_id+"_"+f},m(s),9,L)]))),256))]),l("div",M,[i(l("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.name=s),class:"form-control",placeholder:"Имя"},null,512),[[p,e.name]]),i(l("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>e.tel=s),class:"form-control",placeholder:"Телефон"},null,512),[[p,e.tel]]),e.views.success?n("",!0):(r(),t("button",{key:0,onClick:o[2]||(o[2]=s=>u.save()),class:"btn btn-primary"},"Заказать со скидкой")),e.views.success?(r(),t("div",T," Заявка успешно отправлена! ")):n("",!0),e.errors.length?(r(),t("div",D,[(r(!0),t(d,null,h(e.errors,s=>(r(),t("span",F,[l("small",null,m(s),1)]))),256))])):n("",!0)])])}const A=v(b,[["render",N]]),E={props:["form_id"],data(){return{tel:"",errors:[],views:{success:!1}}},created(){},methods:{save(){if(this.errors=[],!this.tel.length)return this.errors.push("Укажите телефон");axios.post("/_leads",{name:"—",tel:this.tel,text:"Получить скидку 10%"}).then(c=>{this.tel="",this.views.success=!0,setTimeout(()=>{this.views.success=!1},3e3)}).catch(c=>{this.errors.push("Ошибка на сервере")})}}},R={class:"mini-form-form"},S={key:1,class:"alert alert-success mt-3"},j={key:2,class:"alert alert-danger mt-3"},q={class:"d-block"};function z(c,o,a,g,e,u){return r(),t("div",R,[i(l("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>e.tel=s),type:"text",class:"form-control",placeholder:"Введите телефон для связи"},null,512),[[p,e.tel]]),e.views.success?n("",!0):(r(),t("button",{key:0,onClick:o[1]||(o[1]=s=>u.save()),class:"btn btn-primary"},"Получить скидку 10%")),e.views.success?(r(),t("div",S," Заявка успешно отправлена! ")):n("",!0),e.errors.length?(r(),t("div",j,[(r(!0),t(d,null,h(e.errors,s=>(r(),t("span",q,[l("small",null,m(s),1)]))),256))])):n("",!0)])}const G=v(E,[["render",z]]),_=y({});_.component("create-lead",A);_.component("create-mini-lead",G);_.mount("#front");
